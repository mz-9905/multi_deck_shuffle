"use strict";(self["webpackChunkmulti_deck_shuffle"]=self["webpackChunkmulti_deck_shuffle"]||[]).push([[402],{4402:function(t,e,s){s.r(e),s.d(e,{default:function(){return ke}});var l=s(3396);const i=t=>((0,l.dD)("data-v-03bbcf08"),t=t(),(0,l.Cn)(),t),n={class:"home my-3 px-3"},a=i((()=>(0,l._)("ul",{class:"nav nav-pills mb-3",id:"pills-tab",role:"tablist"},[(0,l._)("li",{class:"nav-item",role:"presentation"},[(0,l._)("button",{type:"button",class:"nav-link active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"ホーム")]),(0,l._)("li",{class:"nav-item",role:"presentation"},[(0,l._)("button",{type:"button",class:"nav-link",id:"pills-register-tab","data-bs-toggle":"pill","data-bs-target":"#pills-register",role:"tab","aria-controls":"pills-register","aria-selected":"false"},"デッキ登録")]),(0,l._)("li",{class:"nav-item",role:"presentation"},[(0,l._)("button",{type:"button",class:"nav-link",id:"pills-download-tab","data-bs-toggle":"pill","data-bs-target":"#pills-download",role:"tab","aria-controls":"pills-download","aria-selected":"false"},"各種ダウンロード")])],-1))),c={class:"tab-content",id:"pills-tabContent"},o={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},d=(0,l.uE)('<p data-v-03bbcf08>任意のデッキについて、種類や回数を選んでシャッフルすることができます。</p><details class="mb-4" data-v-03bbcf08><summary data-v-03bbcf08>使い方</summary><ol type="1" data-v-03bbcf08><li data-v-03bbcf08>「デッキ登録」タブにて、シャッフルしたいデッキを登録</li><li data-v-03bbcf08>「ホーム」タブにて、シャッフルの種類を1つ選択</li><li data-v-03bbcf08>シャッフル回数を選択 (選択可能範囲: 1 ~ 20回)</li><li data-v-03bbcf08>「実行」ボタンをクリック ⇒ シャッフル開始 (シャッフル完了まで数秒ほどお待ちください)</li><li data-v-03bbcf08>シャッフルが完了したデッキに対して、別の種類や回数での更なるシャッフルも可能</li></ol><p data-v-03bbcf08>シャッフル前のデッキリスト、シャッフル後のデッキリストについて、デッキ内のカードの順番がそれぞれ表示されます。</p><p data-v-03bbcf08>各種デッキリストのデータは「各種ダウンロード」タブより手元にダウンロード可能です。</p></details><details class="mb-4" data-v-03bbcf08><summary data-v-03bbcf08>各シャッフルの説明</summary><ul data-v-03bbcf08><li data-v-03bbcf08>ヒンズーシャッフル：左手に持ったデッキの下半分を右手で引き抜き、左手に残ったデッキの上に右手にあるカードを上から数枚ずつ重ねる工程を、右手のカードがなくなるまで繰り返す方法。</li><li data-v-03bbcf08>ディールシャッフル：複数個のカード束ができるように、デッキのカードを上から1枚ずつ順番に別々の束に重ね、最後にそれらの束を1つにまとめる方法。</li><li data-v-03bbcf08>ファローシャッフル：デッキをおおよそ同じ枚数になるように2等分し、それら2つの束のカードを交互に重ねていく方法。横入れシャッフル。</li><li data-v-03bbcf08>オーバーハンドシャッフル：左手に持ったデッキの上から数枚をまとめ、それを右手の親指を使って右手に移す操作を左手からカードがなくなるまで繰り返す方法。</li></ul></details>',3),r={class:"tab-pane fade",id:"pills-register",role:"tabpanel","aria-labelledby":"pills-register-tab"},u=i((()=>(0,l._)("details",{class:"mb-4"},[(0,l._)("summary",null,"登録方法"),(0,l._)("ol",{type:"1"},[(0,l._)("li",null,"追加したいカードの名前と枚数を入力"),(0,l._)("li",null,"「仮追加」ボタンをクリック ⇒ デッキリストにカードが仮追加される"),(0,l._)("li",null,"追加したいカードを全て仮追加後、「デッキリスト登録」ボタンをクリック ⇒ デッキ登録完了")])],-1))),b={class:"tab-pane fade",id:"pills-download",role:"tabpanel","aria-labelledby":"pills-register-tab"};function k(t,e,s,i,k,h){const g=(0,l.up)("ShuffleSelect"),m=(0,l.up)("ShuffleResult"),f=(0,l.up)("DeckList"),p=(0,l.up)("DownloadData");return(0,l.wg)(),(0,l.iD)("div",n,[a,(0,l._)("div",c,[(0,l._)("div",o,[d,(0,l.Wm)(g),(0,l.Wm)(m)]),(0,l._)("div",r,[u,(0,l.Wm)(f)]),(0,l._)("div",b,[(0,l.Uk)(" 各種デッキリストのデータを3種類の形式 ( txt , csv , json ) でダウンロードすることができます。 "),(0,l.Wm)(p)])])])}var h=s(9242),g=s(7139);const m=t=>((0,l.dD)("data-v-023cd6c7"),t=t(),(0,l.Cn)(),t),f={class:"card",style:{width:"auto"}},p={class:"card-body row g-0"},D={class:"mb-4 col-sm-6"},v=m((()=>(0,l._)("p",null,"シャッフルの種類",-1))),_={class:"form-check"},w=m((()=>(0,l._)("label",{for:"hindu",class:"form-check-label"},"ヒンズーシャッフル",-1))),L={class:"form-check"},y=m((()=>(0,l._)("label",{for:"deal",class:"form-check-label"},"ディールシャッフル",-1))),R={class:"form-check"},C=m((()=>(0,l._)("label",{for:"farrow",class:"form-check-label"},"ファローシャッフル",-1))),S={class:"form-check"},x=m((()=>(0,l._)("label",{for:"over",class:"form-check-label"},"オーバーハンドシャッフル",-1))),q={class:"col-sm-6"},N=m((()=>(0,l._)("p",null,"シャッフル回数 ( 1 ~ 20回 )",-1))),j={for:"formRange",class:"form-label"},$={key:0,class:"btn btn-outline-primary",disabled:""};function U(t,e,s,i,n,a){return(0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("div",p,[(0,l._)("div",D,[v,(0,l._)("div",_,[(0,l.wy)((0,l._)("input",{type:"radio",class:"form-check-input",id:"hindu","onUpdate:modelValue":e[0]||(e[0]=t=>n.kind=t),value:"hindu"},null,512),[[h.G2,n.kind]]),w]),(0,l._)("div",L,[(0,l.wy)((0,l._)("input",{type:"radio",class:"form-check-input",id:"deal","onUpdate:modelValue":e[1]||(e[1]=t=>n.kind=t),value:"deal"},null,512),[[h.G2,n.kind]]),y]),(0,l._)("div",R,[(0,l.wy)((0,l._)("input",{type:"radio",class:"form-check-input",id:"farrow","onUpdate:modelValue":e[2]||(e[2]=t=>n.kind=t),value:"farrow"},null,512),[[h.G2,n.kind]]),C]),(0,l._)("div",S,[(0,l.wy)((0,l._)("input",{type:"radio",class:"form-check-input",id:"over","onUpdate:modelValue":e[3]||(e[3]=t=>n.kind=t),value:"over"},null,512),[[h.G2,n.kind]]),x])]),(0,l._)("div",q,[N,(0,l._)("label",j,"現在の指定回数："+(0,g.zw)(n.num)+"回",1),(0,l.wy)((0,l._)("input",{type:"range",class:"form-range",min:"1",max:"20",step:"1",id:"num","onUpdate:modelValue":e[4]||(e[4]=t=>n.num=t)},null,512),[[h.nr,n.num]])]),a.getRequestState?((0,l.wg)(),(0,l.iD)("button",$,"実行中")):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-outline-primary",onClick:e[5]||(e[5]=(...t)=>a.execution&&a.execution(...t))},"実行"))])])}var O={name:"ShuffleSelect",data(){return{kind:"hindu",num:"3"}},methods:{execution(){this.$store.dispatch("shuffleRequest/saveKind",this.kind),this.$store.dispatch("shuffleRequest/saveNum",this.num),this.$store.dispatch("shuffleRequest/changeRequest")}},computed:{getRequestState(){return this.$store.getters["shuffleRequest/getRequest"]}}},V=s(89);const E=(0,V.Z)(O,[["render",U],["__scopeId","data-v-023cd6c7"]]);var I=E;const J=t=>((0,l.dD)("data-v-795bfb18"),t=t(),(0,l.Cn)(),t),z={class:"py-3 text-center row g-0"},B={class:"p-2 col-sm-6"},A=J((()=>(0,l._)("h6",{class:"text-danger"},"シャッフル後",-1))),K={class:"card card-body"},H={class:"table table-striped"},P={class:"p-2 col-sm-6"},F=J((()=>(0,l._)("h6",{class:"text-primary"},"シャッフル前",-1))),Y={class:"card card-body"},Z={class:"table table-striped"};function G(t,e,s,i,n,a){return(0,l.wg)(),(0,l.iD)("div",z,[(0,l._)("div",B,[A,(0,l._)("div",K,[(0,l._)("table",H,[(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.getResultList,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,g.zw)(t),1)])))),128))])])])]),(0,l._)("div",P,[F,(0,l._)("div",Y,[(0,l._)("table",Z,[(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.getSendList,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,g.zw)(t),1)])))),128))])])])])])}var W={name:"ShuffleResult",computed:{getSendList(){return this.$store.getters["shuffleRequest/getSendDeckList"]},getResultList(){return this.$store.getters["shuffleRequest/getResultDeckList"]}}};const M=(0,V.Z)(W,[["render",G],["__scopeId","data-v-795bfb18"]]);var Q=M;const T=t=>((0,l.dD)("data-v-63c0bfb4"),t=t(),(0,l.Cn)(),t),X={xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},tt=T((()=>(0,l._)("symbol",{id:"check-circle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})],-1))),et=[tt],st={key:0,class:"p-3 position-absolute top-0 start-50 translate-middle-x",style:{width:"20rem"}},lt={class:"alert alert-success d-flex align-items-center alert-dismissible fade show",role:"alert"},it=T((()=>(0,l._)("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24"},[(0,l._)("use",{"xlink:href":"#check-circle-fill"})],-1))),nt=T((()=>(0,l._)("p",null,"カードの追加",-1))),at={class:"card mb-5 text-center",style:{width:"auto"}},ct={class:"card-body row g-0"},ot={class:"mb-3 col-sm-4"},dt=T((()=>(0,l._)("label",{for:"cardName",class:"form-label"},"カード名",-1))),rt={class:"px-3 mb-3 col-sm-7 row g-0"},ut={class:"col-sm-2"},bt=T((()=>(0,l._)("label",{for:"cardNum",class:"form-label"},"カード枚数",-1))),kt={class:"px-3 py-4 col-sm-3"},ht={class:"row g-0"},gt={class:"col-sm-2"},mt={class:"col-sm-4"},ft={class:"card",style:{width:"auto"}},pt={class:"card-body"},Dt={class:"table table-striped"},vt=T((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"カード名"),(0,l._)("th",null,"枚数"),(0,l._)("th",null,"編集"),(0,l._)("th",null,"削除")])],-1))),_t={key:0},wt=["onUpdate:modelValue"],Lt={key:1},yt={key:2},Rt=["onUpdate:modelValue"],Ct={key:3},St={key:4},xt=["onClick"],qt={key:5},Nt=["onClick"],jt={key:6},$t=["onClick"],Ut={key:7},Ot=["onClick"];function Vt(t,e,s,i,n,a){return(0,l.wg)(),(0,l.iD)(l.HY,null,[((0,l.wg)(),(0,l.iD)("svg",X,et)),a.getAlert?((0,l.wg)(),(0,l.iD)("div",st,[(0,l._)("div",lt,[it,(0,l._)("div",null,[(0,l.Uk)(" デッキリストを登録しました。 "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:e[0]||(e[0]=t=>a.changeAlert(!1))})])])])):(0,l.kq)("",!0),nt,(0,l._)("div",at,[(0,l._)("div",ct,[(0,l._)("div",ot,[dt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>n.name=t)},null,512),[[h.nr,n.name]])]),(0,l._)("div",rt,[(0,l._)("div",ut,[bt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[2]||(e[2]=t=>n.num=t)},null,512),[[h.nr,n.num]])]),(0,l._)("div",kt,[(0,l._)("button",{class:"btn btn-outline-primary",onClick:e[3]||(e[3]=t=>a.pushCard())},"仮追加")])])])]),(0,l._)("div",ht,[(0,l._)("div",gt,[(0,l._)("p",null,"デッキリスト "+(0,g.zw)(n.deckNum)+"枚",1)]),(0,l._)("div",mt,[(0,l._)("button",{class:"btn btn-outline-danger",onClick:e[4]||(e[4]=t=>a.makeSendDeckList())},"デッキリスト登録")])]),(0,l._)("div",ft,[(0,l._)("div",pt,[(0,l._)("table",Dt,[vt,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.getDeckList,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[a.getEdits(t.id)?((0,l.wg)(),(0,l.iD)("td",_t,[(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e=>t.name=e},null,8,wt),[[h.nr,t.name]])])):((0,l.wg)(),(0,l.iD)("td",Lt,(0,g.zw)(t.name),1)),a.getEdits(t.id)?((0,l.wg)(),(0,l.iD)("td",yt,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e=>t.num=e},null,8,Rt),[[h.nr,t.num]])])):((0,l.wg)(),(0,l.iD)("td",Ct,(0,g.zw)(t.num),1)),a.getEdits(t.id)?((0,l.wg)(),(0,l.iD)("td",St,[(0,l._)("button",{onClick:e=>a.editCard(t),class:"btn btn-outline-danger"},"編集完了",8,xt)])):((0,l.wg)(),(0,l.iD)("td",qt,[(0,l._)("button",{onClick:e=>a.editCard(t),class:"btn btn-outline-success"},"編集",8,Nt)])),a.getEdits(t.id)?((0,l.wg)(),(0,l.iD)("td",jt,[(0,l._)("button",{onClick:e=>a.deleteCard(t),class:"btn btn-outline-danger",disabled:""},"削除",8,$t)])):((0,l.wg)(),(0,l.iD)("td",Ut,[(0,l._)("button",{onClick:e=>a.deleteCard(t),class:"btn btn-outline-danger"},"削除",8,Ot)]))])))),128))])])])])],64)}s(7658);var Et={name:"DeckList",data(){return{deckList:[],name:"",num:1,edits:[],deckNum:0,alert:!1,first:!0}},created(){this.first&&(this.loadRegistList(),this.first=!1)},methods:{loadRegistList(){let t=this.$store.getters["permitStorage/getPermit"];if(t){const t=localStorage.getItem("registList"),e=localStorage.getItem("registListNum"),s=localStorage.getItem("registSendList");null!=t&&(this.deckList=JSON.parse(t),this.$store.dispatch("shuffleRequest/saveDeckList",this.deckList),this.deckNum=Number(e)),null!=s&&this.$store.dispatch("shuffleRequest/saveSendDeckList",JSON.parse(s))}},saveDeckList(){this.$store.dispatch("shuffleRequest/saveDeckList",this.deckList);let t=this.$store.getters["permitStorage/getPermit"];t&&(localStorage.setItem("registList",JSON.stringify(this.deckList)),localStorage.setItem("registListNum",this.deckNum))},makeSendDeckList(){const t=[];this.deckList.forEach((e=>{for(let s=0;s<e.num;s++)t.push(e.name)})),t.filter((t=>t)),this.$store.dispatch("shuffleRequest/saveSendDeckList",t);let e=this.$store.getters["permitStorage/getPermit"];e&&localStorage.setItem("registSendList",JSON.stringify(t)),this.changeAlert(!0)},changeAlert(t){this.alert=t},deleteCard(t){let e=0;const s=this.deckList;s.forEach((s=>{s.id==t.id&&(e=s.num)})),this.deckNum-=e,this.deckList=s.filter((e=>e.id!=t.id)),this.saveDeckList()},getEdits(t){let e=!1;return this.edits.forEach((s=>{s==t&&(e=!0)})),e},editCard(t){this.getEdits(t.id)?(this.edits=this.edits.filter((e=>e!=t.id)),this.deckNum+=t.num,this.saveDeckList()):(this.edits.push(t.id),this.deckNum-=t.num)},pushCard(){if(this.name.length>0){const t={id:Number(Date.now()).toString(16),name:this.name,num:this.num};this.deckList.push(t),this.name="",this.deckNum=this.deckNum+this.num,this.saveDeckList()}}},computed:{getDeckList(){return this.deckList.filter((t=>t))},getAlert(){return this.alert}}};const It=(0,V.Z)(Et,[["render",Vt],["__scopeId","data-v-63c0bfb4"]]);var Jt=It;const zt={class:"px-3 py-3 text-center",style:{width:"auto"}},Bt={class:"p-3"},At=(0,l._)("span",{class:"h3"},"登録済みデッキリスト",-1),Kt=(0,l._)("hr",null,null,-1),Ht={class:"p-3"},Pt=(0,l._)("p",null,"カード名 + 枚数",-1),Ft={class:"d-grid gap-2 d-md-flex justify-content-md-center"},Yt={class:"p-3"},Zt=(0,l._)("p",null,"ID ( タイムスタンプ ) + カード名 + 枚数",-1),Gt={class:"d-grid gap-2 d-md-flex justify-content-md-center"},Wt={class:"p-3"},Mt=(0,l._)("span",{class:"h3"},[(0,l._)("span",{class:"text-primary"},"シャッフル前"),(0,l.Uk)("のデッキリスト")],-1),Qt=(0,l._)("hr",null,null,-1),Tt={class:"p-3"},Xt=(0,l._)("p",null,"カード名 + 枚数",-1),te={class:"d-grid gap-2 d-md-flex justify-content-md-center"},ee={class:"p-3"},se=(0,l._)("span",{class:"h3"},[(0,l._)("span",{class:"text-danger"},"シャッフル後"),(0,l.Uk)("のデッキリスト")],-1),le=(0,l._)("hr",null,null,-1),ie={class:"p-3"},ne=(0,l._)("p",null,"カード名 + 枚数",-1),ae={class:"d-grid gap-2 d-md-flex justify-content-md-center"};function ce(t,e,s,i,n,a){return(0,l.wg)(),(0,l.iD)("div",zt,[(0,l._)("div",Bt,[At,Kt,(0,l._)("div",Ht,[Pt,(0,l._)("div",Ft,[null!=a.getRegistDeckList?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e[0]||(e[0]=t=>a.downloadDeckList("regist","txt",!1)),class:"btn btn-outline-secondary"},"txt")):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:e[1]||(e[1]=t=>a.downloadDeckList("regist","txt",!1)),class:"btn btn-outline-secondary",disabled:""},"txt")),null!=a.getRegistDeckList?((0,l.wg)(),(0,l.iD)("button",{key:2,onClick:e[2]||(e[2]=t=>a.downloadDeckList("regist","csv",!1)),class:"btn btn-outline-success"},"csv")):((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:e[3]||(e[3]=t=>a.downloadDeckList("regist","csv",!1)),class:"btn btn-outline-success",disabled:""},"csv")),null!=a.getRegistDeckList?((0,l.wg)(),(0,l.iD)("button",{key:4,onClick:e[4]||(e[4]=t=>a.downloadDeckList("regist","json",!1)),class:"btn btn-outline-danger"},"json")):((0,l.wg)(),(0,l.iD)("button",{key:5,onClick:e[5]||(e[5]=t=>a.downloadDeckList("regist","json",!1)),class:"btn btn-outline-danger",disabled:""},"json"))])]),(0,l._)("div",Yt,[Zt,(0,l._)("div",Gt,[null!=a.getRegistDeckList?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e[6]||(e[6]=t=>a.downloadDeckList("regist","txt",!0)),class:"btn btn-outline-secondary"},"txt")):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:e[7]||(e[7]=t=>a.downloadDeckList("regist","txt",!0)),class:"btn btn-outline-secondary",disabled:""},"txt")),null!=a.getRegistDeckList?((0,l.wg)(),(0,l.iD)("button",{key:2,onClick:e[8]||(e[8]=t=>a.downloadDeckList("regist","csv",!0)),class:"btn btn-outline-success"},"csv")):((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:e[9]||(e[9]=t=>a.downloadDeckList("regist","csv",!0)),class:"btn btn-outline-success",disabled:""},"csv")),null!=a.getRegistDeckList?((0,l.wg)(),(0,l.iD)("button",{key:4,onClick:e[10]||(e[10]=t=>a.downloadDeckList("regist","json",!0)),class:"btn btn-outline-danger"},"json")):((0,l.wg)(),(0,l.iD)("button",{key:5,onClick:e[11]||(e[11]=t=>a.downloadDeckList("regist","json",!0)),class:"btn btn-outline-danger",disabled:""},"json"))])])]),(0,l._)("div",Wt,[Mt,Qt,(0,l._)("div",Tt,[Xt,(0,l._)("div",te,[null!=a.getBeforeDeckList?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e[12]||(e[12]=t=>a.downloadDeckList("before","txt",!1)),class:"btn btn-outline-secondary"},"txt")):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:e[13]||(e[13]=t=>a.downloadDeckList("before","txt",!1)),class:"btn btn-outline-secondary",disabled:""},"txt")),null!=a.getBeforeDeckList?((0,l.wg)(),(0,l.iD)("button",{key:2,onClick:e[14]||(e[14]=t=>a.downloadDeckList("before","csv",!1)),class:"btn btn-outline-success"},"csv")):((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:e[15]||(e[15]=t=>a.downloadDeckList("before","csv",!1)),class:"btn btn-outline-success",disabled:""},"csv")),null!=a.getBeforeDeckList?((0,l.wg)(),(0,l.iD)("button",{key:4,onClick:e[16]||(e[16]=t=>a.downloadDeckList("before","json",!1)),class:"btn btn-outline-danger"},"json")):((0,l.wg)(),(0,l.iD)("button",{key:5,onClick:e[17]||(e[17]=t=>a.downloadDeckList("before","json",!1)),class:"btn btn-outline-danger",disabled:""},"json"))])])]),(0,l._)("div",ee,[se,le,(0,l._)("div",ie,[ne,(0,l._)("div",ae,[null!=a.getResultDeckList?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e[18]||(e[18]=t=>a.downloadDeckList("result","txt",!1)),class:"btn btn-outline-secondary"},"txt")):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:e[19]||(e[19]=t=>a.downloadDeckList("result","txt",!1)),class:"btn btn-outline-secondary",disabled:""},"txt")),null!=a.getResultDeckList?((0,l.wg)(),(0,l.iD)("button",{key:2,onClick:e[20]||(e[20]=t=>a.downloadDeckList("result","csv",!1)),class:"btn btn-outline-success"},"csv")):((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:e[21]||(e[21]=t=>a.downloadDeckList("result","csv",!1)),class:"btn btn-outline-success",disabled:""},"csv")),null!=a.getResultDeckList?((0,l.wg)(),(0,l.iD)("button",{key:4,onClick:e[22]||(e[22]=t=>a.downloadDeckList("result","json",!1)),class:"btn btn-outline-danger"},"json")):((0,l.wg)(),(0,l.iD)("button",{key:5,onClick:e[23]||(e[23]=t=>a.downloadDeckList("result","json",!1)),class:"btn btn-outline-danger",disabled:""},"json"))])])])])}var oe={name:"DownloadData",data(){return{deckList:null,fname:null}},methods:{downloadDeckList(t,e,s){let l=null,i=null;switch(t){case"regist":this.outputRegistDeckList(s),i="regist_decklist_";break;case"before":this.outputShuffleDeckList(s,!1),i="shuffle_before_decklist_";break;case"result":this.outputShuffleDeckList(s,!0),i="shuffle_result_decklist_";break;default:alert("error: 存在しないデッキリストが選択されています。"),i="error_"}switch(e){case"json":l=new Blob([JSON.stringify(this.deckList,null,"  ")],{type:"application/json"}),this.makeFileName(i,s,".json");break;case"csv":this.JSON2CSV(!1),l=new Blob([this.deckList],{type:"application/octet-stream"}),this.makeFileName(i,s,".csv");break;case"txt":this.JSON2CSV(!0),l=new Blob([this.deckList],{type:"application/octet-stream"}),this.makeFileName(i,s,".txt");break;default:alert("error: 未対応の拡張子が入力されています。")}const n=document.createElement("a");n.href=URL.createObjectURL(l),n.download=this.fname,n.click(),n.remove()},outputRegistDeckList(t){if(t)this.deckList=this.getRegistDeckList;else{this.deckList=[];const t=this.getRegistDeckList;for(let e=0;e<t.length;e++){const s={name:t[e].name,num:t[e].num};this.deckList.push(s)}}},outputShuffleDeckList(t,e){this.deckList=[];let s=null;s=e?this.getResultDeckList:this.getBeforeDeckList,t?s.forEach((t=>{const e={id:Number(Date.now()).toString(16),name:t};this.deckList.push(e)})):s.forEach((t=>{this.deckList.push({name:t})}))},JSON2CSV(t){const e=this.deckList;this.deckList=null;const s=Object.keys(e[0]).join(",")+"\n",l=e.map((t=>Object.keys(t).map((e=>t[e])).join(","))).join("\n");this.deckList=t?l:s+l},makeFileName(t,e,s){this.fname=t,e&&(this.fname+="assignment_id_"),this.fname+=Number(Date.now()).toString(16)+s}},computed:{getRegistDeckList(){return this.$store.getters["shuffleRequest/getDeckList"]},getBeforeDeckList(){return this.$store.getters["shuffleRequest/getSendDeckList"]},getResultDeckList(){return this.$store.getters["shuffleRequest/getResultDeckList"]}}};const de=(0,V.Z)(oe,[["render",ce]]);var re=de,ue={name:"HomeView",data(){return{kind:null,num:null,deckList:null,flag:!1}},mounted(){this.$store.subscribe((t=>{"shuffleRequest/changeRequest"===t.type&&this.$store.getters["shuffleRequest/getRequest"]&&this.sendPostRequest()}))},methods:{sendPostRequest(){this.kind=this.$store.getters["shuffleRequest/getKind"],this.num=this.$store.getters["shuffleRequest/getNum"],null!=this.$store.getters["shuffleRequest/getResultDeckList"]?(this.deckList=this.$store.getters["shuffleRequest/getResultDeckList"],this.$store.dispatch("shuffleRequest/removeSendDeckList"),this.$store.dispatch("shuffleRequest/removeResultDeckList"),this.flag=!0,this.sleep(1e3)):this.deckList=this.$store.getters["shuffleRequest/getSendDeckList"];let t=new URL("https://script.google.com/macros/s/AKfycbzYr5rMyqgJ4xpMt0b90-vIU8fnaC5HSQ0fISp3a1EJDdQsNrkfpjK_u24w_4LnL6ktOg/exec");const e=new FormData;e.append("kind",this.kind),e.append("num",this.num),e.append("deckList",JSON.stringify(this.deckList)),fetch(t,{method:"POST",body:e}).then((t=>(console.log(t),t.text()))).then((t=>{this.init(t)})).catch((t=>{alert(t+"\n予期せぬエラーが発生しました。")}))},init(t){this.$store.dispatch("shuffleRequest/saveResultDeckList",JSON.parse(t)),this.$store.dispatch("shuffleRequest/changeRequest"),this.flag&&this.$store.dispatch("shuffleRequest/saveSendDeckList",this.deckList)},sleep(t){let e=new Date;while(new Date-e<t);}},components:{ShuffleSelect:I,ShuffleResult:Q,DeckList:Jt,DownloadData:re}};const be=(0,V.Z)(ue,[["render",k],["__scopeId","data-v-03bbcf08"]]);var ke=be}}]);